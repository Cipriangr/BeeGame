(()=>{"use strict";var e,t;!function(e){e.QUEEN="Queen",e.WORKER="Workers",e.DRONE="Drones"}(e||(e={})),function(e){e.QUEEN="Queen",e.WORKER="Worker",e.DRONE="Drone"}(t||(t={}));const n={[e.QUEEN]:t.QUEEN,[e.WORKER]:t.WORKER,[e.DRONE]:t.DRONE},i={[e.QUEEN]:100,[e.WORKER]:75,[e.DRONE]:50},a={[e.QUEEN]:8,[e.WORKER]:10,[e.DRONE]:12};function l(e){localStorage.setItem("gameInProgress",String(e))}function s(e){localStorage.setItem("swarm",JSON.stringify(e))}function r(){return JSON.parse(localStorage.getItem("swarm")||"{}")}function o(){return localStorage.getItem("playerName")||""}function d(){localStorage.clear()}const c=document.getElementById("swarm-section");function u(){const t=o(),i=r();if(c){c.innerHTML="";const a=document.createElement("h3");a.innerText=`Hey ${t.toUpperCase()}! Press Hit to attack the bees`,c.appendChild(a);const l={[e.WORKER]:document.createElement("div"),[e.QUEEN]:document.createElement("div"),[e.DRONE]:document.createElement("div")};Object.keys(i).forEach((e=>{const t=e,a=i[t]||[],s=l[t];s.setAttribute("class",t.toLowerCase()),s.setAttribute("id","bees"),s&&(function(e,t,i){t.forEach((t=>{if(t.health<=0&&!t.isAlive)return;const a=document.createElement("div");a.classList.add("specific-bee"),a.setAttribute("id",`${t.id}`);const l=document.createElement("span");l.classList.add("health-bar"),l.innerHTML=`HP: ${t.health}`,l.setAttribute("data-health",`${t.health}`);const s=document.createElement("span"),r=n[t.type];s.innerHTML=`${r} ${t.id}`,a.appendChild(s),a.appendChild(l);const o=document.createElement("img");o.setAttribute("src",`assets/${e}.png`),o.setAttribute("class",e),o.setAttribute("id",`${t.id}`),o.setAttribute("data-id",`${t.id}`),a.appendChild(o),i.appendChild(a)}))}(t,a,s),c.appendChild(s))}))}}function E(e,t){alert(e),t&&(d(),location.reload())}function h(){const t=document.getElementById("hit-button");t&&t.addEventListener("click",(()=>{const t=function(e){const t=Object.values(e).flat().filter((e=>e.isAlive));if(0!==t.length)return t[Math.floor(Math.random()*t.length)];console.log("No bees left")}(r());console.log("selectedBee",t),t?function(t){switch(t.type){case e.WORKER:t.health-=a[e.WORKER];break;case e.DRONE:t.health-=a[e.DRONE];break;default:t.health-=a[e.QUEEN]}if(t.health<=0)return t.health=0,t.isAlive=!1,m(t),t.type===e.QUEEN?void E("The Queen has died. All bees are dead. The game will restart",!0):void function(e){document.getElementById(`${e.id}`).remove()}(t);m(t)}(t):E("Game Over! No bees left to hit! The game will be restarted",!0)}))}function m(e){!function(e){const t=document.getElementById(`${e.id}`);if(!t)return;const i=document.getElementById("attack-info");i&&(i.innerHTML=function(e){return e.health<=0?`${n[e.type]} ${e.id} was hit with ${a[e.type]} damage and is now dead because its health reached 0.`:`You hit ${n[e.type]} ${e.id} for ${a[e.type]} damage`}(e));const l=t.querySelector(".health-bar");l.innerHTML=`HP: ${e.health}`,l.setAttribute("data-health",`${e.health}`),t.classList.add("enlarge-translate"),setTimeout((()=>{t.classList.remove("enlarge-translate")}),1500)}(e),function(e){const t=r(),n=e.type,i=t[n].findIndex((t=>t.id===e.id));console.log("bee",e),-1!==i&&(t[n][i]=e,s(t))}(e)}let p="true"===localStorage.getItem("gameInProgress");const y=document.getElementById("swarm-section"),R=document.getElementById("action-buttons"),O=document.getElementById("bee-info");function g(t){if(p||t.hasAttribute("data-initialized"))return;t.setAttribute("data-initialized","true");const n=document.getElementById("player-name"),a=document.getElementById("player-name-input");t.addEventListener("click",(()=>{const r=(null==a?void 0:a.value)||o();var d;d=r,localStorage.setItem("playerName",d),r?(t.style.display="none",n.style.display="none",l(!0),s({Workers:[{id:2,type:e.WORKER,health:i[e.WORKER],isAlive:!0},{id:3,type:e.WORKER,health:i[e.WORKER],isAlive:!0},{id:4,type:e.WORKER,health:i[e.WORKER],isAlive:!0},{id:5,type:e.WORKER,health:i[e.WORKER],isAlive:!0},{id:6,type:e.WORKER,health:i[e.WORKER],isAlive:!0}],Queen:[{id:1,type:e.QUEEN,health:i[e.QUEEN],isAlive:!0}],Drones:[{id:7,type:e.DRONE,health:i[e.DRONE],isAlive:!0},{id:8,type:e.DRONE,health:i[e.DRONE],isAlive:!0},{id:9,type:e.DRONE,health:i[e.DRONE],isAlive:!0},{id:10,type:e.DRONE,health:i[e.DRONE],isAlive:!0},{id:11,type:e.DRONE,health:i[e.DRONE],isAlive:!0},{id:12,type:e.DRONE,health:i[e.DRONE],isAlive:!0},{id:13,type:e.DRONE,health:i[e.DRONE],isAlive:!0},{id:14,type:e.DRONE,health:i[e.DRONE],isAlive:!0}]}),u(),u(),h(),R.style.display="flex",O.style.display="flex"):E("Please enter your name to start the game")}))}document.addEventListener("DOMContentLoaded",(()=>{let e=document.getElementById("start-game");const t=document.getElementById("reset-game"),n=r();p||0!==Object.keys(n).length||(l(!1),function(e){if(document.getElementById("player-name-div"))return;const t=document.createElement("div");t.setAttribute("id","player-name");const n=document.createElement("label");n.setAttribute("for","player-name"),n.innerText="Please Enter your name and press the button below";const i=document.createElement("input");i.setAttribute("type","text"),i.setAttribute("id","player-name-input"),i.setAttribute("placeholder","Enter your name"),i.setAttribute("required","true"),i.setAttribute("maxlength","20"),t.appendChild(n),t.appendChild(i),e.appendChild(t)}(y),e=function(e,t){const n=document.createElement("button");return n.setAttribute("id","start-game"),n.setAttribute("class","start-button"),n.innerText="Start The Game",e.appendChild(n),t(n),n}(y,g),e.setAttribute("data-initialized","false"),R.style.display="none",O.style.display="none"),e&&!p&&g(e),p&&Object.keys(n).length>0&&(u(),R.style.display="flex",O.style.display="flex",h()),t&&t.addEventListener("click",(()=>{d(),location.reload()}))}))})();
//# sourceMappingURL=bundle.js.map